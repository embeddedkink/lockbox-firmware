<!DOCTYPE html>

<head>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <main class="container">
        <h1>EKI Lockbox installer</h1>
        <article>
            <p>This installer uses the latest commit on main of <a href="https://github.com/embeddedkink/lockbox-firmware">the official firmware.</a></p>
            <p>
                Currently only nodemcuv2 is supported. 
                Connecting through a USB hub may cause issues.
                Connect the ESP to this device while holding the flash button, release the button and then hit install below.
                If this tool fails, you can <a href="https://embeddedkink.com/manual-flashing.html">flash the mcu manually</a>
            </p>
            <script type="module"
                src="https://unpkg.com/esp-web-tools@9.4.0/dist/web/install-button.js?module"></script>
            <esp-web-install-button manifest="firmware/manifest.json">
                <button slot="activate">Install</button>
                <span slot="unsupported">Browser not supported (we love Firefox as well but it doesn't support webserial)</span>
                <span slot="not-allowed">HTTP not supported</span>
            </esp-web-install-button>
        </article>
    </main>
</body>

</html>